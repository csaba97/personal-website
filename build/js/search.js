var projectsJSON = [
  {
    "projectImage": "./img/projects/parallel_runner.svg",
    "projectName": "JUnit4 Parallel Runner - Intellij IDEA plugin",
    "projectDescription": "Intellij IDEA plugin that allows you to run JUnit4 tests in parallel<br> (using multiple CPU cores/threads). Uses the Fork/Join Framework from Java 7<br> so it can fully utilize the power of the CPU.",
    "projectTechnologies": ['Java'],
    "projectLink": "https://github.com/csabagabor/junit4-parallel-runner-intellij-plugin",
    "demoLink": "https://plugins.jetbrains.com/plugin/12959-junit4-parallel-runner",
    "youtubeLink": "",
    "projectYear": '2019'
  },
  {
    "projectImage": "./img/projects/todo_app.png",
    "projectName": "Android ToDo Kotlin app",
    "projectDescription": "Simple ToDo app(with the option to encrypt todos with a password)",
    "projectTechnologies": ['Kotlin','SQLite'],
    "projectLink": "https://github.com/csabagabor/Android-todo-kotlin-app",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2019'
  },
  {
    "projectImage": "./img/projects/broken_link.png",
    "projectName": "Stackoverflow Dead link Finder",
    "projectDescription": "this is a jQuery application which uses the Stack Exchange API <br> to find broken links on Stackoverflow. It can<br> be used on other sites from the Stack Exchange <br> family as well.",
    "projectTechnologies": ['JavaScript','jQuery', 'HTML', 'CSS', 'Bootstrap'],
    "projectLink": "https://github.com/csabagabor/Stackoverflow-Deadlink-Finder",
    "demoLink": "",
    "youtubeLink": "https://www.youtube.com/watch?v=piqzsF7t4IM",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/tale.png",
    "projectName": "Website that shows a <br> new Bedtime Story each day",
    "projectDescription": "Every day a new story appears on the site,<br> older stories can be searched as well. Stories can be <br> rated.<br><font color='red'>Note: the project is hosted on a free Heroku account <br> which needs 20-30 seconds to load</font>",
    "projectTechnologies": ['Java', 'Spring','postgresql','JavaScript','jQuery', 'HTML', 'CSS', 'Bootstrap'],
    "projectLink": "https://github.com/csabagabor/Evening-Tales-Website",
    "demoLink": "./tale/index.html",
    "youtubeLink": "https://www.youtube.com/watch?v=zZr4uUul8U0",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/ebay.png",
    "projectName": "eBay™ Popularity Search",
    "projectDescription": "A Chrome Extension that sorts the eBay™  <br>search results by their popularity",
    "projectTechnologies": ['JavaScript', 'HTML', 'CSS'],
    "projectLink": "https://github.com/csabagabor/Ebay-Popularity-Search",
    "demoLink": "https://chrome.google.com/webstore/detail/ebay-popularity-search/hoiandnpgmngpknmfdnbkhigbbbgmpfm",
    "youtubeLink": "https://www.youtube.com/watch?v=qA5zL00Bqc8",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/garden.png",
    "projectName": "Garden management system",
    "projectDescription": "Desktop App based on client-server architecture <br>(Sockets are used for communication) used to manage a garden",
    "projectTechnologies": ['Java','MySQL'],
    "projectLink": "https://github.com/csabagabor/Garden-management-System---Java",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2019'
  },
  {
    "projectImage": "./img/projects/opengl.png",
    "projectName": "Opengl Game Scene",
    "projectDescription": "This project has been made at the university and contains some small <br> code from our lab resources so it cannot be made open-source",
    "projectTechnologies": ['C++','OpenGL'],
    "projectLink": "",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/arduino.png",
    "projectName": "Arduino RC Robot Controlled <br> with Wifi module ESP8266",
    "projectDescription": "Remote Controller built for an Arduino robot <br> that can be used on a smartphone",
    "projectTechnologies": ['C','Arduino'],
    "projectLink": "https://github.com/csabagabor/Arduino-RC-Robot-Controlled-with-Wifi",
    "demoLink": "",
    "youtubeLink": "https://youtu.be/exTiyvPCQLw",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/cameraman.png",
    "projectName": "Losless compression of Grayscale <br> images using Huffman Coding",
    "projectDescription": "The project implements the lossless compression algorithm <br> named Huffman coding for a grayscale image.",
    "projectTechnologies": ['C++', "OpenCV"],
    "projectLink": "https://github.com/csabagabor/Grayscale-Huffman-Coding",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/scikit.png",
    "projectName": "Scikit-learn - Predicting Baccalaureate grades",
    "projectDescription": "Used Scikit-learn to predict the grades of students in Romania <br> at the Baccalaureate knowing their grades from the exam in 8th grade",
    "projectTechnologies": ['Python', 'Scikit-Learn'],
    "projectLink": "https://github.com/csabagabor/easyAI-Gomoku",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2019'
  },
  {
    "projectImage": "./img/projects/gomoku.png",
    "projectName": "AI engine for Gomoku",
    "projectDescription": "This project contains an AI for the well-known game Gomoku.<br> It tries to combine several concepts and algorithms<br> to come up with a really competitive algorithm:<br>Negamax, Iterative deepening, Heuristic function, Alpha-Beta pruning etc.",
    "projectTechnologies": ['Python'],
    "projectLink": "https://github.com/csabagabor/easyAI-Gomoku",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/brick_breaker.png",
    "projectName": "Brick Breaker Chrome app",
    "projectDescription": "This app is a simple realization of <br> the well-known brick breaker(arkanoid) game",
    "projectTechnologies": ['JavaScript', 'HTML', 'CSS', 'Bootstrap'],
    "projectLink": "https://github.com/csabagabor/Chrome-App-Brick-Breaker-",
    "demoLink": "",
    "youtubeLink": "https://www.youtube.com/watch?v=WW4k1ehWaWI",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/order.png",
    "projectName": "Order Processing System in Java with MySQL",
    "projectDescription": "This is a GUI Java application that can process orders from clients. <br>" +
     "It works with a MySQL database. Uses the JDBC driver.",
    "projectTechnologies": ['Java', 'MySql'],
    "projectLink": "https://github.com/csabagabor/Order-processing-System-Java-MySQL",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/file_transfer.png",
    "projectName": "TCP File Transfer App",
    "projectDescription": "An application that can be used to <br> send files over the Internet",
    "projectTechnologies": ['C#', 'XAML'],
    "projectLink": "https://github.com/csabagabor/File-Transfer-Application-with-TCP-DotNet-WPF",
    "demoLink": "",
    "youtubeLink": "https://www.youtube.com/watch?v=_UwzDPoDwjw",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/shell.png",
    "projectName": "Basic Shell implementation in C",
    "projectDescription": "Basic linux shell implementation<br>" +
     "with piped commands(more than 1 pipe allowed)<br>"+
     "asyncronous commands(more than 2 asyncronous commands allowed) etc.",
    "projectTechnologies": ['C','Linux'],
    "projectLink": "https://github.com/csabagabor/Basic-Shell-implementation-in-C",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/bank.jpg",
    "projectName": "Banking Application",
    "projectDescription": "This is a realization of a banking software.<br>" +
     "The application can be used only by an admin. He can add new clients,<br>"+
     "new accounts and make deposits or withdrawals.",
    "projectTechnologies": ['Java'],
    "projectLink": "https://github.com/csabagabor/Basic-Banking-Application-in-Java",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/polinom.png",
    "projectName": "Polynomial processing",
    "projectDescription": "This is a GUI `Java` application that can carry out polynomal processing and operations.  ",
    "projectTechnologies": ['Java'],
    "projectLink": "https://github.com/csabagabor/Polinom-processing",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/queue.png",
    "projectName": "Java Application implementing <br> Clients waiting in a queue",
    "projectDescription": "Simulates some people entering, staying in and leaving queues",
    "projectTechnologies": ['Java'],
    "projectLink": "https://github.com/csabagabor/Java-Application-implementing-Clients-waiting-in-a-queue",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/sensor.png",
    "projectName": "Analyzing the behavior of <br>a person recorded by a set of sensors",
    "projectDescription": "This is a Java 1.8 program that extracts some sensor data <br>" +
     "from a file and then processes it using Streams and<br>"+
     "shows statistical results based on the measured values.",
    "projectTechnologies": ['Java'],
    "projectLink": "https://github.com/csabagabor/Analyzing-the-behavior-of-a-person-recorded-by-a-set-of-sensors",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/semaphore.png",
    "projectName": "Linux semaphores implemented with <br> Mutexes and Pipes",
    "projectDescription": "",
    "projectTechnologies": ['C','Linux'],
    "projectLink": "https://github.com/csabagabor/Linux-semaphores-implemented-with-Mutexes-and-Pipes-",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/linux.jpg",
    "projectName": "Mutex and Conditional variable implemented <br> with Semaphores Pipes",
    "projectDescription": "",
    "projectTechnologies": ['C','Linux'],
    "projectLink": "https://github.com/csabagabor/Mutex-and-Conditional-variable-implemented-with-Semaphores-Pipes",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/labyrinth.png",
    "projectName": "Simple Assembly Labyrinth game",
    "projectDescription": "",
    "projectTechnologies": ['Assembly'],
    "projectLink": "https://github.com/csabagabor/Simple-Assembly-Labyrinth-game",
    "demoLink": "",
    "youtubeLink": "https://www.youtube.com/watch?v=6cYuaGuCNRI",
    "projectYear": '2018'
  },
  {
    "projectImage": "./img/projects/cyrus.png",
    "projectName": "Implementation of Cyrus Beck, <br> Cohen Sutherland line clipping algorithms<br> and  Bresenham algorithm",
    "projectDescription": "",
    "projectTechnologies": ['C++'],
    "projectLink": "https://github.com/csabagabor/Implementation-of-Cyrus-Beck-Cohen-Sutherland-line-clipping-algorithms-and-Bresenham-s-algorithm",
    "demoLink": "",
    "youtubeLink": "",
    "projectYear": '2018'
  }
];




function appendProjectToDocument(projectImage, projectName, projectDescription, projectTechnologies, projectLink, demoLink, youtubeLink) {
  var technologiesUsed = "";
  //search for whole word only
  if (projectTechnologies.includes("arduino"))
    technologiesUsed += "<span style='color:#ca8ef3'>Arduino </span>";
    if (projectTechnologies.includes("opengl"))
      technologiesUsed += "<span style='color:#cd2c69'>OpenGL </span>";
  if (projectTechnologies.includes("opencv"))
    technologiesUsed += "<span style='color:#b18f72'>OpenCV </span>";
  if (projectTechnologies.includes("scikit-learn"))
    technologiesUsed += "<span style='color:#c65f09'>Scikit-learn </span>";
  if (projectTechnologies.includes("python"))
    technologiesUsed += "<span style='color:#2c66b3'>Python </span>";
  if (projectTechnologies.includes("kotlin"))
    technologiesUsed += "<span style='color:#7736e4'>Kotlin </span>";
  if (projectTechnologies.includes("sqlite"))
    technologiesUsed += "<span style='color:#818942'>SQLite </span>";
  if (projectTechnologies.includes("spring"))
    technologiesUsed += "<span style='color:green'>Spring </span>";
  if (projectTechnologies.includes("postgresql"))
      technologiesUsed += "<span style='color:blue'>PostgreSQL </span>";
  if (projectTechnologies.includes("assembly"))
    technologiesUsed += "<span style='color:white'>Assembly </span>";
  if (projectTechnologies.includes("linux"))
    technologiesUsed += "<span style='color:orange'>Linux </span>";
  if (projectTechnologies.includes("c#"))
    technologiesUsed += "<span style='color:#974F9B'>C# </span>";
  if (projectTechnologies.includes("c++"))
    technologiesUsed += "<span style='color:#0101EC'>C++ </span>";
  if (projectTechnologies.includes("c"))
    technologiesUsed += "<span style='color:#0188EC'>C </span>";
  if (projectTechnologies.includes("xaml"))
    technologiesUsed += "<span style='color:#1488EC'>XAML </span>";
  if (projectTechnologies.includes("java"))
    technologiesUsed += "<span style='color:red'>Java </span>";
  if (projectTechnologies.includes("html"))
    technologiesUsed += "<span style='color:orange'>Html </span>";
  if (projectTechnologies.includes("css"))
    technologiesUsed += "<span style='color:blue'>Css </span>";
  if (projectTechnologies.includes("javascript"))
    technologiesUsed += "<span style='color:yellow'>JavaScript </span>";
  if (projectTechnologies.includes("bootstrap"))
    technologiesUsed += "<span style='color:purple'>Bootstrap </span>";
  if (projectTechnologies.includes("jquery"))
    technologiesUsed += "<span style='color:#7BA8EB'>jQuery </span>";
  if (projectTechnologies.includes("mysql"))
    technologiesUsed +="<span style='color:rgb(0,97,138)'>My</span>" + "<span style='color:rgb(228,142,0)'>Sql </span>";

    //demo button
    var demo = "";
    if(demoLink.length > 0){
      demo = '<a href="' + demoLink + '" target="_blank">' +
      '<button type="button" class="btn btn-outline-secondary" style="margin-left: 20px; margin-bottom: 10px">Demo</button></a>';
    }
    //youtube button
    var youtube = "";
    if(youtubeLink.length > 0){
      youtube = '<a href="' + youtubeLink + '" target="_blank">' +
      '<button type="button" class="btn btn-outline-secondary" style="margin-left: 20px; margin-bottom: 10px">Youtube</button></a>';
    }

    //github button
    var githubProject = "";
    if(projectLink.length > 0){
      githubProject = '<a href="' + projectLink + '" target="_blank">' +
      '<button type="button" class="btn btn-outline-secondary" style="margin-left: 20px; margin-bottom: 10px">Github</button>';
    }

  $("#main")
    .append('<div class="project">' +
      '<img src="' + projectImage + '" width="200" height="200">' +
      '<p class="project-name">' + projectName + '</p>' +
      '<p class="project-description"><i>' + projectDescription + '</i></p>' +
      '<p class="project-description"><i>' + "Technologies used: " + technologiesUsed + '</i></p>' +
      '<div class="interactive">' +
      githubProject + demo + youtube +
      '</div>' +
      '</div>');
  $("#main").append('<hr />');
}

function loadProjects() {
  //list all projects here
  for (let i = 0; i < projectsJSON.length; i++) {

    var currProject = projectsJSON[i];
    var projectImage = currProject.projectImage;
    var projectName = currProject.projectName;
    var projectDescription = currProject.projectDescription;
    var projectTechnologies = currProject.projectTechnologies;
    var projectLink = currProject.projectLink;
    var demoLink = currProject.demoLink;
    var youtubeLink = currProject.youtubeLink;
    var projectYear = currProject.projectYear;
    //make all technology names toLowerCase for easier searching
    projectTechnologies = projectTechnologies.map(function(e) {
      return e.toLowerCase();
    });

    allProjects.push({
      "projectImage" : projectImage,
      "projectName": projectName,
      "projectDescription": projectDescription,
      "projectTechnologies": projectTechnologies,
      "projectLink": projectLink,
      "demoLink": demoLink,
      "youtubeLink": youtubeLink,
      "projectYear": projectYear
    });
  }
}




function appendAllProjects(projects) {
  //empty parent div
  $('#main').empty();
  for (let i = 0; i < projects.length; i++) {
    var el = projects[i];
    appendProjectToDocument(el.projectImage, el.projectName, el.projectDescription, el.projectTechnologies, el.projectLink,el.demoLink,el.youtubeLink);
  }
}


//******************************************************************************************************
//DECLARATIONS
var yearChosen = 'all';
var technologyChosen = 'all';
var showProjects = [];
var allProjects = [];
loadProjects();
appendAllProjects(allProjects);


function showSearch() {

  showProjects = [];

  if (technologyChosen == 'all') {
    showProjects = allProjects;
  } else {
    for (let i = 0; i < allProjects.length; i++) {
      if (allProjects[i].projectTechnologies.includes(technologyChosen)) {
        showProjects.push(allProjects[i]);
      }
    }
  }

  var showProjects2 = [];
  if (yearChosen == 'all') {
    showProjects2 = showProjects;
  } else {
    for (let i = 0; i < showProjects.length; i++) {
      if (showProjects[i].projectYear == yearChosen) {
        showProjects2.push(showProjects[i]);
      }
    }
  }

  appendAllProjects(showProjects2);
}

function showTech(nameTechnology) {
  technologyChosen = nameTechnology;
  showSearch();
}

function showYear(year) {
  yearChosen = year;
  showSearch();
}

$("document").ready(function() {
  //show selection from dropdown menu
  $(".dropdown-menu a").click(function() {
    $(this).parents(".dropdown").find('.btn').html($(this).text() + ' <span class="caret"></span>');
    $(this).parents(".dropdown").find('.btn').val($(this).data('value'));
  })
});
